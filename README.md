# PHPDocWrapper
Создание документации с помощью PHPDoc


## Требования

1. PHP 5.6 (на более ранних версиях возможны проблемы с запуском, на PHP версии 7.0 (и выше) работоспособность не проверялась)

1. Загрузить Composer (например по [ссылке](https://getcomposer.org/composer.phar)) и скопировать в корень проекта

1. (для Linux, MacOS, FreeBSD и т.п) Необходимо, чтобы у файлов `composer.phar` и `run.php` были соответствующие
права на исполнение

1. Выполнить комантду `update` из корневой директории проекта для загрузки всех необходимых зависимостей

MS Windows (пример)
```
C:\php_scripts\PHPDocWrapper\> %PATH_TO_PHP%\php.exe composer.phar update
```

Linux, MacOS, FreeBSD и т.п (пример)
```
$  ./composer.phar update
```

## Использование

Выполнить запустить на исполнение `run.php` с указанием директории с документируемыми скриптами
и (не обязательно) директории назначения, куда будет помещена сгенерированная документация

MS Windows (пример)
```
C:\php_scripts\PHPDocWrapper\> %PATH_TO_PHP%\php.exe run.php "../other_project"
```

Linux, MacOS, FreeBSD и т.п (пример)
```
$  ./run.php "../other_project"
```
> Если не указана директория назначения вся сгенерированная документация будет размещена в директории
`output/{timestamp}_{project}` (например, `C:\php_scripts\PHPDocWrapper\output\1518705431_other_project}`
или `/php_scripts/PHPDocWrapper/output/1518705431_other_project}`).  
Где `{timestamp}` обозначает текущую на момент выполнения метку времени в unix-формате,
а `{project}` название документируемого проекта (берётся из имени директории).

## Файл конфигурации

В некоторых случаях будет удобно задать конфигурацию для PhpDocumentor внутри документируемого проекта.

Задать файл конфигурации возможно двумя способами (пути относительно корневой директории документируемого проекта):
2. файл `config_doc.php` в корневой директории документируемого проекта
2. файл `doc.php` в директории `config`

При этом, если существуют оба файла, то использоваться будет только `config_doc.php`.

###### Пример простого файла конфигурации
```php
<?php
return [
    // Название, которое будет отображаться в документации
    'title' => 'Documentation for Other project',
 
    // Список документируемых файлов и директорий (другие будут проигнорированы).
    // Можно указывать файлы и директории за пределами заданной директории документируемого проекта.
    // Все пути считаются относительными от корневой директории документируемого проекта. 
    'include' => [
        'dirs' => ['classes'],
    ],
 
    // Список файлов и директорий, которые не следует учитывать при документировании.
    // Все пути считаются относительными от корневой директории документируемого проекта.
    'exclude' => [
        'files' => ['config.php'],
        'dirs' => ['classes/vendor','classes/exclude'],
    ],
];
```

###### Пример полного файла конфигурации
```php
<?php
return [
    // Название, которое будет отображаться в документации
    'title' => 'Документация PHP проекта',
 
    // Кодировка файл-скриптов дикументируемого проекта. По умолчанию utf8. 
    'encoding' => 'cp1251',
 
    // Перечисление всех расширений файлов, которые будут задокументированы.
    // По умолчанию только *.php.
    'extensions' => 'php, inc, class, ctrl',
 
    // Шаблон по которому будет построена документация.
    // Можно использовать сразу несколько, перечислив через запятую.
    // По умолчанию ипользуется "templates/ru-responsive-twig/".
    'templates' => '/php_scripts/templates/custom_template', // Linux, MacOS, FreeBSD и т.п
//    'templates' => 'C:\php_scripts\templates\custom_template', // MS Windows
 
    // Список документируемых файлов и директорий (другие будут проигнорированы).
    // Можно указывать файлы и директории за пределами заданной директории документируемого проекта.
    // Все пути считаются относительными от корневой директории документируемого проекта. 
    'include' => [ // все пути считаются относительными, относительно директории документируемого проекта
        'files' => ['backend\functions.php', 'index.php'],
        'dirs' => ['classes', 'backend\controllers'],
    ],
 
    // Список файлов и директорий, которые не следует учитывать при документировании.
    // Все пути считаются относительными от корневой директории документируемого проекта.
    'exclude' => [
        'files' => ['config.php'],
        'dirs' => ['classes/vendor','classes/exclude'],
    ],
];
```

## Полезные ссылки
- [Официальный сайт проэкта Composer](https://getcomposer.org/)
- [Официальный сайт проэкта PhpDocumentor](https://www.phpdoc.org/)
- [Описание тегов PhpDocumentor](https://manual.phpdoc.org/HTMLSmartyConverter/HandS/phpDocumentor/tutorial_tags.pkg.html)
